<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:fragment="head">
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
</head>

<body>
<header class="p-3 bg-dark text-white">
    <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"/></svg>
            </a>

            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0" id="menu">
            </ul>

            <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
            </form>
            <div class="text-end">
                <a type="button" class="btn btn-warning" th:href="@{/logout}">Cerrar sesi√≥n</a>
            </div>
        </div>
    </div>
</header>
<div class="container">
    <h1 id="welcome">  </h1>
</div>

<script>
    if (localStorage.getItem("user") !== null) {
        const menuBar = document.getElementById('menu');
        const h1 = document.getElementById('welcome');
        const menu = JSON.parse(`${localStorage.getItem("menu")}`);
        const user = JSON.parse(`${localStorage.getItem("user")}`);
        h1.innerHTML += user.name;
        menu.forEach(item => {
            let option = `<li><a href="/app${item.path}" class="nav-link px-2 text-white">${item.name}</a></li>`;
            menuBar.innerHTML += option;
        });
    }
</script>
</body>
</html>



